{% extends "base.html" %}

{% block title %}{{ post.title }} - {{ site_title }}{% endblock %}

{% block meta_tags %}
    {% set item = post %}
    {% set content_type = "article" %}
    {% set include_keywords = true %}
    {% set include_article_tags = true %}
    {% include "meta_tags.html" %}
{% endblock %}

{% block content %}
<article class="post">
    {% if prev_post or next_post %}
    <nav class="post-navigation post-navigation-top">
        {% if prev_post %}
        <a href="{{ prev_post.url }}" class="post-nav-link post-nav-prev" title="{{ prev_post.title }}">
            <span class="post-nav-label">← Previous Post</span>
        </a>
        {% else %}
        <span class="post-nav-spacer"></span>
        {% endif %}
        {% if next_post %}
        <a href="{{ next_post.url }}" class="post-nav-link post-nav-next" title="{{ next_post.title }}">
            <span class="post-nav-label">Next Post →</span>
        </a>
        {% endif %}
    </nav>
    {% endif %}
    
    <header class="post-header">
        <h1>{{ post.title }}</h1>
        {% if post.date %}
        <time datetime="{{ post.date.isoformat() }}">{{ post.date|format_date }}</time>
        {% endif %}
        <div class="reading-time">{{ post.reading_time }} min read</div>
        {% if post.category %}
        <div class="category">
            <a href="/{{ category_dir }}/{{ post.safe_category }}.html" class="category-link">{{ post.category }}</a>
        </div>
        {% endif %}
    </header>
    
    <div class="post-content">
        {{ post.html_content|safe }}
    </div>
    
    {% if post.tags %}
    <div class="tags">
        {% for tag in post.tags %}
        <a href="/{{ tag_dir }}/{{ post.safe_tags()[loop.index0] }}.html" class="tag">{{ tag }}</a>
        {% endfor %}
    </div>
    {% endif %}
    
    {% if prev_post or next_post %}
    <nav class="post-navigation post-navigation-bottom">
        {% if prev_post %}
        <a href="{{ prev_post.url }}" class="post-nav-link post-nav-prev" title="{{ prev_post.title }}">
            <span class="post-nav-label">← Previous Post</span>
        </a>
        {% else %}
        <span class="post-nav-spacer"></span>
        {% endif %}
        {% if next_post %}
        <a href="{{ next_post.url }}" class="post-nav-link post-nav-next" title="{{ next_post.title }}">
            <span class="post-nav-label">Next Post →</span>
        </a>
        {% endif %}
    </nav>
    {% endif %}
</article>
{% endblock %}
